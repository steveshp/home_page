# Playwright 브라우저 자동화 사용 가이드

## 📌 개요
Playwright는 Claude Code에서 제공하는 브라우저 자동화 도구로, 웹 페이지를 실시간으로 제어하고 테스트할 수 있습니다.

## 🚀 기본 사용법

### 1. 브라우저 열기
```
"localhost:3000 페이지 열어줘"
"브라우저로 사이트 열고 스냅샷 보여줘"
```

### 2. 페이지 구조 확인 (스냅샷)
```
"현재 페이지 스냅샷 보여줘"
"페이지 구조 확인해줘"
```

스냅샷은 YAML 형식으로 페이지의 모든 요소를 보여주며, 각 요소에는 고유한 `ref` 값이 부여됩니다.

## 🎯 ref 시스템 이해하기

### ref란?
- 페이지의 각 HTML 요소에 자동으로 부여되는 고유 식별자
- 예: `[ref=e96]`, `[ref=e123]`
- 페이지를 새로고침하면 ref 값이 변경될 수 있음

### ref 찾는 방법
1. `browser_snapshot()` 실행
2. YAML 출력에서 원하는 요소 찾기
3. 해당 요소의 `[ref=xxx]` 값 확인

### 스냅샷 예시
```yaml
- generic [ref=e96]:  # "빠른 구축" 카드
  - img [ref=e99]
  - heading "빠른 구축" [level=3] [ref=e101]
  - paragraph [ref=e102]: 전문가와 함께...
  - button "더 알아보기" [ref=e119]
```

## 🖱️ 요소와 상호작용

### 클릭하기
```
"ref=e96 클릭해줘"
"로그인 버튼 클릭해줘"
"더 알아보기 버튼 눌러줘"
```

### 텍스트 입력
```
"이메일 입력란에 test@example.com 입력해줘"
"ref=e498에 '홍길동' 입력해줘"
"문의 내용 작성해줘"
```

### 드롭다운 선택
```
"프로젝트 유형에서 '웹 개발' 선택해줘"
"옵션 메뉴에서 두 번째 항목 선택해줘"
```

### 호버 효과
```
"메뉴 위에 마우스 올려줘"
"ref=e96 요소에 호버해줘"
```

## 📸 스크린샷 캡처

### 전체 페이지
```
"현재 페이지 스크린샷 찍어줘"
"전체 화면 캡처해줘"
```

### 특정 요소
```
"서비스 섹션만 스크린샷 찍어줘"
"ref=e96 요소 스크린샷 찍어줘"
"헤더 부분만 캡처해줘"
```

### 전체 스크롤 페이지
```
"페이지 전체 스크린샷 찍어줘 (스크롤 포함)"
```

## 🔄 페이지 네비게이션

### URL 이동
```
"https://google.com 으로 이동해줘"
"localhost:3002 열어줘"
```

### 앞/뒤로 가기
```
"이전 페이지로 돌아가줘"
"뒤로 가기 해줘"
"앞으로 가기 해줘"
```

## 📱 반응형 테스트

### 브라우저 크기 조절
```
"브라우저 크기를 모바일로 바꿔줘"
"화면을 768x1024로 조절해줘"
"데스크톱 크기로 변경해줘"
```

## 🧪 폼 테스트

### 폼 작성 예시
```
"문의 폼 채워줘"
"이름에 '홍길동', 이메일에 'test@test.com' 입력하고 제출해줘"
"회원가입 폼 테스트해줘"
```

## 💡 실전 활용 예시

### 1. UI 수정 작업
```
사용자: "브라우저로 localhost:3002 열어줘"
Claude: [페이지 열기]

사용자: "스냅샷 보여줘"
Claude: [YAML 구조 출력]

사용자: "ref=e96 찾아서 '성숙한 컨셉' 스타일로 수정해줘"
Claude: [코드 수정]
```

### 2. 스크린샷 기반 작업
```
사용자: [스크린샷 첨부] "이 디자인으로 바꿔줘"
Claude: [스크린샷 분석 → 코드 수정]
```

### 3. 기능 테스트
```
사용자: "메뉴 버튼 클릭하고 모바일 메뉴 동작 확인해줘"
Claude: [클릭 → 스냅샷 → 동작 확인]
```

### 4. 폼 검증
```
사용자: "문의 폼에 테스트 데이터 입력하고 제출 테스트해줘"
Claude: [폼 입력 → 제출 → 결과 확인]
```

## 🛠️ 고급 기능

### JavaScript 실행
```
"콘솔에서 document.title 실행해줘"
"페이지에서 모든 버튼 개수 세어줘"
```

### 네트워크 요청 확인
```
"네트워크 요청 목록 보여줘"
"API 호출 확인해줘"
```

### 콘솔 메시지 확인
```
"콘솔 로그 보여줘"
"에러 메시지 있는지 확인해줘"
```

### 대기 기능
```
"3초 기다려줘"
"'로딩 완료' 텍스트 나올 때까지 기다려줘"
```

## ⚠️ 주의사항

1. **ref 값은 임시적**: 페이지 새로고침 시 변경됨
2. **포트 확인**: 개발 서버 포트 확인 필수 (3000, 3001, 3002 등)
3. **비동기 동작**: 일부 동작은 시간이 걸릴 수 있음
4. **권한 필요**: 일부 동작은 사용자 확인 필요

## 🎯 프로 팁

### 효율적인 작업 흐름
1. 먼저 스냅샷으로 전체 구조 파악
2. 필요한 ref 값들 메모
3. 순차적으로 작업 진행
4. 스크린샷으로 결과 확인

### 디버깅 팁
- 콘솔 메시지 자주 확인
- 네트워크 요청 모니터링
- 단계별로 스크린샷 촬영
- ref 값 변경 시 재확인

## 📚 자주 사용하는 명령어 모음

```
# 기본 작업
"브라우저 열어줘"
"스냅샷 보여줘"
"스크린샷 찍어줘"

# 상호작용
"ref=xxx 클릭해줘"
"입력란에 텍스트 입력해줘"
"버튼 눌러줘"

# 테스트
"폼 테스트해줘"
"반응형 디자인 확인해줘"
"에러 있는지 확인해줘"

# 코드 수정
"이 부분 코드 찾아서 수정해줘"
"이 디자인으로 바꿔줘"
"스타일 변경해줘"
```

---

이 가이드를 참고하여 Playwright를 효과적으로 활용하세요! 🚀