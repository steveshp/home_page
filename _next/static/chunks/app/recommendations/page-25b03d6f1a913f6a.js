(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[885],{3999:(e,r,t)=>{"use strict";t.d(r,{cn:()=>i});var s=t(2596),a=t(9688);function i(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.QP)((0,s.$)(r))}},7168:(e,r,t)=>{"use strict";t.d(r,{$:()=>l});var s=t(5155);t(2115);var a=t(9708),i=t(2085),d=t(3999);let n=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:r,variant:t,size:i,asChild:l=!1,...o}=e,c=l?a.DX:"button";return(0,s.jsx)(c,{"data-slot":"button",className:(0,d.cn)(n({variant:t,size:i,className:r})),...o})}},8413:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>g});var s=t(5155),a=t(2115),i=t(4903),d=t(1115),n=t(3915);let l=0===(0,n.Dk)().length?(0,n.Wp)({apiKey:"AIzaSyDkaEEDCBUrtVXydf6GITux1g2KXzjxW9k",authDomain:"unitalk-2b5cc.firebaseapp.com",projectId:"unitalk-2b5cc",storageBucket:"unitalk-2b5cc.firebasestorage.app",messagingSenderId:"31737397102",appId:"1:31737397102:web:7870bfe045719e87d8cb7f",databaseURL:"https://unitalk-2b5cc-default-rtdb.asia-southeast1.firebasedatabase.app"}):(0,n.Sx)(),o=(0,i.xI)(l),c=(0,d.C3)(l);var u=t(7168),m=t(4835),b=t(4616),x=t(1007),h=t(2525);function g(){let[e,r]=(0,a.useState)(""),[t,n]=(0,a.useState)(""),[l,g]=(0,a.useState)(""),[p,f]=(0,a.useState)(!1),[v,y]=(0,a.useState)(!1),[j,N]=(0,a.useState)(""),[k,w]=(0,a.useState)([]),[_,A]=(0,a.useState)(""),[S,C]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=(0,i.hg)(o,async e=>{e?(y(!0),N(e.uid),z(e.uid)):(y(!1),N(""),w([]))});return()=>e()},[]);let z=e=>{let r=(0,d.KR)(c,"referrals");(0,d.Zy)(r,r=>{let t=r.val(),s=[];t&&Object.keys(t).forEach(r=>{t[r].userId===e&&s.push({id:r,name:t[r].name,createdAt:t[r].createdAt||Date.now()})}),s.sort((e,r)=>r.createdAt-e.createdAt),w(s)})},D=async e=>{if(e.preventDefault(),_.trim()&&j){C(!0);try{let e=(0,d.KR)(c,"referrals");await (0,d.VC)(e,{userId:j,name:_.trim(),createdAt:Date.now()}),A("")}catch(e){console.error("Error adding referral:",e),alert("추천인 추가에 실패했습니다.")}finally{C(!1)}}},E=async e=>{if(confirm("정말 삭제하시겠습니까?"))try{let r=(0,d.KR)(c,"referrals/".concat(e));await (0,d.TF)(r)}catch(e){console.error("Error deleting referral:",e),alert("삭제에 실패했습니다.")}},I=async r=>{r.preventDefault(),g(""),f(!0);try{await (0,i.x9)(o,e,t)}catch(e){console.error("Login error:",e),g("로그인에 실패했습니다. 이메일과 비밀번호를 확인해주세요.")}finally{f(!1)}},K=async()=>{try{await (0,i.CI)(o),r(""),n(""),w([])}catch(e){console.error("Logout error:",e)}};return v?(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-background via-[oklch(0.98_0.01_250)] to-background py-8 px-4",children:[(0,s.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,s.jsx)("div",{className:"absolute top-20 left-10 w-64 h-64 gradient-primary rounded-full opacity-10 blur-3xl"}),(0,s.jsx)("div",{className:"absolute bottom-20 right-10 w-96 h-96 gradient-secondary rounded-full opacity-10 blur-3xl"})]}),(0,s.jsxs)("div",{className:"max-w-4xl mx-auto relative z-10",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gradient mb-2",children:"추천인 관리"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"등록된 추천인을 관리하세요"})]}),(0,s.jsxs)(u.$,{onClick:K,variant:"outline",className:"gap-2",children:[(0,s.jsx)(m.A,{className:"w-4 h-4"}),"로그아웃"]})]}),(0,s.jsxs)("div",{className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-3xl p-6 mb-6 glass",children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[(0,s.jsx)(b.A,{className:"w-5 h-5"}),"새 추천인 추가"]}),(0,s.jsxs)("form",{onSubmit:D,className:"flex gap-3",children:[(0,s.jsx)("input",{type:"text",value:_,onChange:e=>A(e.target.value),placeholder:"추천인 이름을 입력하세요",className:"flex-1 px-4 py-3 rounded-lg border border-border bg-background/50 focus:outline-none focus:ring-2 focus:ring-primary transition-all",disabled:S,required:!0}),(0,s.jsx)(u.$,{type:"submit",disabled:S||!_.trim(),className:"bg-gradient-to-r from-[oklch(0.55_0.25_235)] to-[oklch(0.65_0.20_280)] text-white px-8",children:S?"추가 중...":"추가"})]})]}),(0,s.jsxs)("div",{className:"bg-card/50 backdrop-blur-sm border border-border/50 rounded-3xl p-6 glass",children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[(0,s.jsx)(x.A,{className:"w-5 h-5"}),"등록된 추천인 (",k.length,"명)"]}),0===k.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(x.A,{className:"w-16 h-16 mx-auto text-muted-foreground/30 mb-4"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"아직 등록된 추천인이 없습니다."}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"위 폼에서 추천인을 추가해보세요."})]}):(0,s.jsx)("div",{className:"space-y-3",children:k.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg border border-border/50 bg-background/30 hover:bg-background/50 transition-all group",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-[oklch(0.55_0.25_235)] to-[oklch(0.65_0.20_280)] flex items-center justify-center text-white font-semibold",children:e.name.charAt(0).toUpperCase()}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold",children:e.name}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),(0,s.jsx)(u.$,{onClick:()=>E(e.id),variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity text-red-500 hover:text-red-600 hover:bg-red-50",children:(0,s.jsx)(h.A,{className:"w-4 h-4"})})]},e.id))})]})]})]}):(0,s.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-[oklch(0.98_0.01_250)] to-background",children:[(0,s.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,s.jsx)("div",{className:"absolute top-20 left-10 w-64 h-64 gradient-primary rounded-full opacity-10 blur-3xl"}),(0,s.jsx)("div",{className:"absolute bottom-20 right-10 w-96 h-96 gradient-secondary rounded-full opacity-10 blur-3xl"})]}),(0,s.jsxs)("div",{className:"w-full max-w-md p-8 space-y-6 bg-card/50 backdrop-blur-sm border border-border/50 rounded-3xl shadow-lg glass relative z-10",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gradient mb-2",children:"추천등록"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"로그인하여 추천인을 관리하세요"})]}),(0,s.jsxs)("form",{onSubmit:I,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium mb-2",children:"이메일"}),(0,s.jsx)("input",{id:"email",type:"email",value:e,onChange:e=>r(e.target.value),className:"w-full px-4 py-3 rounded-lg border border-border bg-background/50 focus:outline-none focus:ring-2 focus:ring-primary transition-all",placeholder:"your@email.com",required:!0,disabled:p})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium mb-2",children:"비밀번호"}),(0,s.jsx)("input",{id:"password",type:"password",value:t,onChange:e=>n(e.target.value),className:"w-full px-4 py-3 rounded-lg border border-border bg-background/50 focus:outline-none focus:ring-2 focus:ring-primary transition-all",placeholder:"••••••••",required:!0,disabled:p})]}),l&&(0,s.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,s.jsx)("p",{className:"text-sm text-red-600",children:l})}),(0,s.jsx)(u.$,{type:"submit",className:"w-full bg-gradient-to-r from-[oklch(0.55_0.25_235)] to-[oklch(0.65_0.20_280)] text-white font-semibold py-6 text-lg",disabled:p,size:"lg",children:p?"로그인 중...":"로그인"})]}),(0,s.jsx)("div",{className:"text-center text-sm text-muted-foreground",children:(0,s.jsx)("p",{children:"Firebase Authentication을 사용합니다"})})]})]})}},8594:(e,r,t)=>{Promise.resolve().then(t.bind(t,8413))}},e=>{e.O(0,[210,595,455,882,441,964,358],()=>e(e.s=8594)),_N_E=e.O()}]);